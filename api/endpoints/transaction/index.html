
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="Data-Driven Intelligence for the communication and IoT industries" name="description"/>
<link href="https://canyanio.github.io/rating-integration/api/endpoints/transaction/" rel="canonical"/>
<meta content="Canyan.io" name="author"/>
<meta content="Copy to clipboard" name="lang:clipboard.copy"/>
<meta content="Copied to clipboard" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No matching documents" name="lang:search.result.none"/>
<meta content="1 matching document" name="lang:search.result.one"/>
<meta content="# matching documents" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="../../../favicon.ico" rel="shortcut icon"/>
<meta content="mkdocs-1.0.4, mkdocs-material-4.6.0" name="generator"/>
<title>Transaction - Canyan Rating</title>
<link href="../../../assets/stylesheets/application.1b62728e.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/application-palette.a8b3c06d.css" rel="stylesheet"/>
<meta content="#7e57c2" name="theme-color"/>
<script src="../../../assets/javascripts/modernizr.268332fc.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro,+Helvetica,+sans-serif:300,400,400i,700%7CUbuntu+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Source Sans Pro, Helvetica, sans-serif","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
<link href="../../../assets/fonts/material-icons.css" rel="stylesheet"/>
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-141188366-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
</head>
<body data-md-color-accent="deep-purple" data-md-color-primary="deep-purple" dir="ltr">
<svg class="md-svg">
<defs>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#transaction" tabindex="1">
        Skip to content
      </a>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a class="md-header-nav__button md-logo" href="https://canyanio.github.io/rating-integration/" title="Canyan Rating">
<img height="24" src="../../../logo.png" width="24"/>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
              Canyan Rating
            </span>
<span class="md-header-nav__topic">
              
                Transaction
              
            </span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
</div>
</div>
</nav>
</header>
<div class="md-container">
<main class="md-main" role="main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href="https://canyanio.github.io/rating-integration/" title="Canyan Rating">
<img height="48" src="../../../logo.png" width="48"/>
</a>
    Canyan Rating
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../.." title="Home">
      Home
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../whats-new/" title="What's New ?">
      What's New ?
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/" title="Getting started">
      Getting started
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../running/" title="Running">
      Running
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      Agent
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-5">
        Agent
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../agent/agent/" title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" id="nav-5-2" type="checkbox"/>
<label class="md-nav__link" for="nav-5-2">
      Endpoints
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-5-2">
        Endpoints
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../agent/endpoints/authorization/" title="Authorization">
      Authorization
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../agent/endpoints/transaction-begin/" title="Begin Transaction">
      Begin Transaction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../agent/endpoints/transaction-end/" title="End Transaction">
      End Transaction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../agent/endpoints/transaction-record/" title="Record Transaction">
      Record Transaction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../agent/endpoints/transaction-rollback/" title="Rollback Transaction">
      Rollback Transaction
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hep-agent/" title="HEP Agent">
      HEP Agent
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-toggle md-nav__toggle" data-md-toggle="nav-7" id="nav-7" type="checkbox"/>
<label class="md-nav__link" for="nav-7">
      API
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-7">
        API
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/" title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" id="nav-7-2" type="checkbox"/>
<label class="md-nav__link" for="nav-7-2">
      Endpoints
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-7-2">
        Endpoints
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../carrier/" title="Carrier">
      Carrier
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pricelist/" title="Pricelist">
      Pricelist
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../rate/" title="Rate">
      Rate
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../account/" title="Account">
      Account
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Transaction
      </label>
<a class="md-nav__link md-nav__link--active" href="./" title="Transaction">
      Transaction
    </a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#get-all-the-transactions">
    Get all the Transactions
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_1">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get-specific-transaction-detail">
    Get specific Transaction detail
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers_1">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters_1">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_2">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_1">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request_1">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_3">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-transaction">
    Create a Transaction
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers_2">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters_2">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_4">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_2">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request_2">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_5">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-a-transaction">
    Update a Transaction
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers_3">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters_3">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_6">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_3">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request_3">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_7">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#delete-a-transaction">
    Delete a Transaction
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers_4">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters_4">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_8">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_4">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request_4">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_9">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../engine/" title="Engine">
      Engine
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" id="nav-9" type="checkbox"/>
<label class="md-nav__link" for="nav-9">
      Tutorials
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-9">
        Tutorials
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/inserting-data/" title="Inserting Data">
      Inserting Data
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/authorizations/" title="Authorizations">
      Authorizations
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/transactions/" title="Transactions">
      Transactions
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/kamailio-integration/" title="Kamailio Integration">
      Kamailio Integration
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/kamailio-hep-integration/" title="Kamailio HEP Integration">
      Kamailio HEP Integration
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/opensips-integration/" title="OpenSIPS Integration">
      OpenSIPS Integration
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/opensips-hep-integration/" title="OpenSIPS HEP Integration">
      OpenSIPS HEP Integration
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../faq/" title="FAQ">
      FAQ
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../license/" title="License">
      License
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../contributing/" title="Contributing">
      Contributing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../code-of-conduct/" title="Code of conduct">
      Code of conduct
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#get-all-the-transactions">
    Get all the Transactions
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_1">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get-specific-transaction-detail">
    Get specific Transaction detail
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers_1">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters_1">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_2">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_1">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request_1">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_3">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-transaction">
    Create a Transaction
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers_2">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters_2">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_4">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_2">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request_2">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_5">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-a-transaction">
    Update a Transaction
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers_3">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters_3">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_6">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_3">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request_3">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_7">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#delete-a-transaction">
    Delete a Transaction
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request-headers_4">
    Request headers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#request-parameters_4">
    Request parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_8">
    Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example_4">
    Example
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#request_4">
    Request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#response_9">
    Response
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<h1 id="transaction">Transaction</h1>
<p>This model holds the consolidated transactions performed by an account. All the data in this model is immutable by the rating engine and contains all the data used to calculate the rate at the moment the transaction was performed without relating to external data.</p>
<h2 id="get-all-the-transactions">Get all the Transactions</h2>
<p>This method is used to list all the transactions</p>
<h3 id="request-headers">Request headers</h3>
<p><code>Content-Type application/json</code></p>
<h3 id="request-parameters">Request parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>_allTransactions.page</code></td>
<td><em>int</em></td>
<td>page number, starting from zero</td>
</tr>
<tr>
<td><code>_allTransactions.perPage</code></td>
<td><em>int</em></td>
<td>number of items returned per page</td>
</tr>
<tr>
<td><code>_allTransactions.sortField</code></td>
<td><em>str</em></td>
<td>field used to sort the returned items, defaults to <em>id</em></td>
</tr>
<tr>
<td><code>_allTransactions.sortOrder</code></td>
<td><em>str</em></td>
<td>asc or desc, defaults to <em>asc</em></td>
</tr>
</tbody>
</table>
<h3 id="response">Response</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>allTransactions.id</code></td>
<td><em>objectid</em></td>
<td>Identifier of the transaction</td>
</tr>
<tr>
<td><code>allTransactions.transaction_tag</code></td>
<td><em>string</em></td>
<td>The unique tag of the transaction</td>
</tr>
<tr>
<td><code>allTransactions.account_tag</code></td>
<td><em>string</em></td>
<td>The account tag associated with the transaction</td>
</tr>
<tr>
<td><code>allTransactions.account</code></td>
<td><em>Account</em></td>
<td>The object <a href="../account/">account</a></td>
</tr>
<tr>
<td><code>allTransactions.source</code></td>
<td><em>string</em></td>
<td>The source of the transaction</td>
</tr>
<tr>
<td><code>allTransactions.source_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the source of the transaction</td>
</tr>
<tr>
<td><code>allTransactions.destination</code></td>
<td><em>string</em></td>
<td>The destination of the transaction</td>
</tr>
<tr>
<td><code>allTransactions.carrier_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the carrier used</td>
</tr>
<tr>
<td><code>allTransactions.tags</code></td>
<td><em>array</em></td>
<td>Tags associated with this transaction</td>
</tr>
<tr>
<td><code>allTransactions.authorized</code></td>
<td><em>boolean</em></td>
<td>Was this transaction authorized</td>
</tr>
<tr>
<td><code>allTransactions.unauthorized_reason</code></td>
<td><em>string</em></td>
<td>If unauthorized, what was the reason?</td>
</tr>
<tr>
<td><code>allTransactions.destination_rate</code></td>
<td><em>PricelistRate</em></td>
<td>The object <a href="../rate/">Rate</a></td>
</tr>
<tr>
<td><code>allTransactions.timestamp_auth</code></td>
<td><em>datetime</em></td>
<td>When was the authorization performed for this transaction</td>
</tr>
<tr>
<td><code>allTransactions.timestamp_begin</code></td>
<td><em>datetime</em></td>
<td>When the transaction started</td>
</tr>
<tr>
<td><code>allTransactions.timestamp_end</code></td>
<td><em>datetime</em></td>
<td>When the transaction ended</td>
</tr>
<tr>
<td><code>allTransactions.inbound</code></td>
<td><em>boolean</em></td>
<td>Is this an inbound transaction?</td>
</tr>
<tr>
<td><code>allTransactions.duration</code></td>
<td><em>int</em></td>
<td>The duration of the transaction</td>
</tr>
<tr>
<td><code>allTransactions.fee</code></td>
<td><em>int</em></td>
<td>The calculated fee of the transaction</td>
</tr>
<tr>
<td><code>allTransactions.meta.count</code></td>
<td><em>int</em></td>
<td>Results count</td>
</tr>
</tbody>
</table>
<h3 id="example">Example</h3>
<h4 id="request">Request</h4>
<div class="codehilite"><pre><span></span>curl <span class="s2">"https://api.canyan.io/graphql"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  --data @- <span class="s">&lt;&lt;EOF</span>
<span class="s">{"query": "{</span>
<span class="s">  allTransactions {</span>
<span class="s">    id</span>
<span class="s">    transaction_tag</span>
<span class="s">    account_tag</span>
<span class="s">    authorized</span>
<span class="s">    inbound</span>
<span class="s">    failed</span>
<span class="s">    duration</span>
<span class="s">    fee</span>
<span class="s">  }</span>
<span class="s">  meta: _allPricelistsMeta(page: 0, perPage: 10, sortField: "id", sortOrder: "asc") {</span>
<span class="s">      count</span>
<span class="s">  }</span>
<span class="s">}</span>
<span class="s">" }</span>
<span class="s">EOF</span>
</pre></div>
<h4 id="response_1">Response</h4>
<div class="codehilite"><pre><span></span>HTTP/1.1 <span class="m">200</span> OK
Content-Type: application/json
<span class="o">{</span>
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"allTransactions"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"469f8e15-f0a2-4f7f-92eb-c52d2d491b24"</span>,
        <span class="s2">"transaction_tag"</span>: <span class="s2">"100"</span>,
        <span class="s2">"account_tag"</span>: <span class="s2">"1000"</span>,
        <span class="s2">"authorized"</span>: true,
        <span class="s2">"inbound"</span>: false,
        <span class="s2">"duration"</span>: <span class="m">10</span>,
        <span class="s2">"fee"</span>: <span class="m">20</span>,
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"1293ha-h0a3-2f6f-a398-a9382f744bdc"</span>,
        <span class="s2">"transaction_tag"</span>: <span class="s2">"101"</span>,
        <span class="s2">"account_tag"</span>: <span class="s2">"1000"</span>,
        <span class="s2">"authorized"</span>: true,
        <span class="s2">"inbound"</span>: true,
        <span class="s2">"duration"</span>: <span class="m">0</span>,
        <span class="s2">"fee"</span>: <span class="m">0</span>,
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"meta"</span>: <span class="o">{</span>
      <span class="s2">"count"</span>: <span class="m">2</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
<h2 id="get-specific-transaction-detail">Get specific Transaction detail</h2>
<p>This method is used to fetch a specific transaction either by id or a combination of transaction and account tag.</p>
<h3 id="request-headers_1">Request headers</h3>
<p><code>Content-Type application/json</code></p>
<h3 id="request-parameters_1">Request parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Transaction.id</code></td>
<td><em>objectid</em></td>
<td>Identifier of the transaction</td>
</tr>
<tr>
<td><code>Transaction.transaction_tag</code></td>
<td><em>string</em></td>
<td>The transaction tag</td>
</tr>
<tr>
<td><code>Transaction.account_tag</code></td>
<td><em>string</em></td>
<td>The account tag</td>
</tr>
</tbody>
</table>
<h3 id="response_2">Response</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Transaction.id</code></td>
<td><em>objectid</em></td>
<td>Identifier of the transaction</td>
</tr>
<tr>
<td><code>Transaction.transaction_tag</code></td>
<td><em>string</em></td>
<td>The unique tag of the transaction</td>
</tr>
<tr>
<td><code>Transaction.account_tag</code></td>
<td><em>string</em></td>
<td>The account tag associated with the transaction</td>
</tr>
<tr>
<td><code>Transaction.account</code></td>
<td><em>Account</em></td>
<td>The object <a href="../account/">account</a></td>
</tr>
<tr>
<td><code>Transaction.source</code></td>
<td><em>string</em></td>
<td>The source of the transaction</td>
</tr>
<tr>
<td><code>Transaction.source_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the source of the transaction</td>
</tr>
<tr>
<td><code>Transaction.destination</code></td>
<td><em>string</em></td>
<td>The destination of the transaction</td>
</tr>
<tr>
<td><code>Transaction.carrier_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the carrier used</td>
</tr>
<tr>
<td><code>Transaction.tags</code></td>
<td><em>array</em></td>
<td>Tags associated with this transaction</td>
</tr>
<tr>
<td><code>Transaction.authorized</code></td>
<td><em>boolean</em></td>
<td>Was this transaction authorized</td>
</tr>
<tr>
<td><code>Transaction.unauthorized_reason</code></td>
<td><em>string</em></td>
<td>If unauthorized, what was the reason?</td>
</tr>
<tr>
<td><code>Transaction.destination_rate</code></td>
<td><em>PricelistRate</em></td>
<td>The object <a href="../rate/">Rate</a></td>
</tr>
<tr>
<td><code>Transaction.timestamp_auth</code></td>
<td><em>datetime</em></td>
<td>When was the authorization performed for this transaction</td>
</tr>
<tr>
<td><code>Transaction.timestamp_begin</code></td>
<td><em>datetime</em></td>
<td>When the transaction started</td>
</tr>
<tr>
<td><code>Transaction.timestamp_end</code></td>
<td><em>datetime</em></td>
<td>When the transaction ended</td>
</tr>
<tr>
<td><code>Transaction.inbound</code></td>
<td><em>boolean</em></td>
<td>Is this an inbound transaction?</td>
</tr>
<tr>
<td><code>Transaction.duration</code></td>
<td><em>int</em></td>
<td>The duration of the transaction</td>
</tr>
<tr>
<td><code>Transaction.fee</code></td>
<td><em>int</em></td>
<td>The calculated fee of the transaction</td>
</tr>
</tbody>
</table>
<h3 id="example_1">Example</h3>
<h4 id="request_1">Request</h4>
<div class="codehilite"><pre><span></span>curl <span class="s2">"https://api.canyan.io/graphql"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  --data @- <span class="s">&lt;&lt;EOF</span>
<span class="s">{"query": "  Transaction(</span>
<span class="s">  transaction_tag: \"transaction_1\", </span>
<span class="s">  account_tag: \"100\"</span>
<span class="s">) {</span>
<span class="s">    id</span>
<span class="s">    transaction_tag</span>
<span class="s">    account_tag</span>
<span class="s">    source</span>
<span class="s">    source_ip</span>
<span class="s">    destination</span>
<span class="s">    destination_rate {</span>
<span class="s">      pricelist_tag</span>
<span class="s">      carrier_tag</span>
<span class="s">      prefix</span>
<span class="s">      connect_fee</span>
<span class="s">      rate</span>
<span class="s">      rate_increment</span>
<span class="s">      interval_start</span>
<span class="s">    }</span>
<span class="s">    carrier_ip</span>
<span class="s">    authorized</span>
<span class="s">    unauthorized_reason</span>
<span class="s">    timestamp_auth</span>
<span class="s">    timestamp_begin</span>
<span class="s">    timestamp_end</span>
<span class="s">    inbound</span>
<span class="s">    duration</span>
<span class="s">    fee</span>
<span class="s">  }"</span>
<span class="s">}</span>
<span class="s">EOF</span>
</pre></div>
<h4 id="response_3">Response</h4>
<div class="codehilite"><pre><span></span>HTTP/1.1 <span class="m">200</span> OK
Content-Type: application/json
<span class="o">{</span>
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"Transaction"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"469f8e15-f0a2-4f7f-92eb-c52d2d491b24"</span>,
        <span class="s2">"transaction_tag"</span>: <span class="s2">"100"</span>,
        <span class="s2">"account_tag"</span>: <span class="s2">"1000"</span>,
        <span class="s2">"source"</span>: <span class="s2">"39040123000"</span>,
        <span class="s2">"source_ip"</span>: <span class="s2">"10.0.0.1"</span>,
        <span class="s2">"destination"</span>: <span class="s2">"39040123123"</span>,
        <span class="s2">"destination_rate"</span> <span class="o">{</span>
          <span class="s2">"pricelist_tag"</span>: <span class="s2">"pricelist1"</span>,
          <span class="s2">"carrier_tag"</span>: <span class="s2">"carrier1"</span>,
          <span class="s2">"prefix"</span>: <span class="s2">"39"</span>,
          <span class="s2">"connect_fee"</span>: <span class="m">0</span>,
          <span class="s2">"rate"</span>: <span class="m">10</span>,
          <span class="s2">"rate_increment"</span>: <span class="m">60</span>,
          <span class="s2">"interval_start"</span>: <span class="m">0</span>
        <span class="o">}</span>
        <span class="s2">"carrier_ip"</span>: <span class="s2">"10.0.0.6"</span>,
        <span class="s2">"authorized"</span>: true,
        <span class="s2">"timestamp_auth"</span>: <span class="s2">"2019-08-15T21:26:17Z"</span>,
        <span class="s2">"timestamp_begin"</span>: <span class="s2">"2019-08-15T21:26:20Z"</span>,
        <span class="s2">"timestamp_end"</span>: <span class="s2">"2019-08-15T21:26:50Z"</span>,
        <span class="s2">"inbound"</span>: false,
        <span class="s2">"duration"</span>: <span class="m">30</span>,
        <span class="s2">"fee"</span>: <span class="m">20</span>,
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
<h2 id="create-a-transaction">Create a Transaction</h2>
<p>This method is used to create a transaction record.</p>
<h3 id="request-headers_2">Request headers</h3>
<p><code>Content-Type application/json</code></p>
<h3 id="request-parameters_2">Request parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>createTransaction.id</code></td>
<td><em>objectid</em></td>
<td>Identifier of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.transaction_tag</code></td>
<td><em>string</em></td>
<td>The unique tag of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.account_tag</code></td>
<td><em>string</em></td>
<td>The account tag associated with the transaction</td>
</tr>
<tr>
<td><code>createTransaction.account</code></td>
<td><em>Account</em></td>
<td>The object <a href="../account/">account</a></td>
</tr>
<tr>
<td><code>createTransaction.source</code></td>
<td><em>string</em></td>
<td>The source of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.source_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the source of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.destination</code></td>
<td><em>string</em></td>
<td>The destination of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.carrier_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the carrier used</td>
</tr>
<tr>
<td><code>createTransaction.tags</code></td>
<td><em>array</em></td>
<td>Tags associated with this transaction</td>
</tr>
<tr>
<td><code>createTransaction.authorized</code></td>
<td><em>boolean</em></td>
<td>Was this transaction authorized</td>
</tr>
<tr>
<td><code>createTransaction.unauthorized_reason</code></td>
<td><em>string</em></td>
<td>If unauthorized, what was the reason?</td>
</tr>
<tr>
<td><code>createTransaction.destination_rate</code></td>
<td><em>InputAccountPricelistRate</em></td>
<td>The object <a href="../rate/">Rate</a></td>
</tr>
<tr>
<td><code>createTransaction.timestamp_auth</code></td>
<td><em>datetime</em></td>
<td>When was the authorization performed for this transaction</td>
</tr>
<tr>
<td><code>createTransaction.timestamp_begin</code></td>
<td><em>datetime</em></td>
<td>When the transaction started</td>
</tr>
<tr>
<td><code>createTransaction.timestamp_end</code></td>
<td><em>datetime</em></td>
<td>When the transaction ended</td>
</tr>
<tr>
<td><code>createTransaction.inbound</code></td>
<td><em>boolean</em></td>
<td>Is this an inbound transaction?</td>
</tr>
<tr>
<td><code>createTransaction.duration</code></td>
<td><em>int</em></td>
<td>The duration of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.fee</code></td>
<td><em>int</em></td>
<td>The calculated fee of the transaction</td>
</tr>
</tbody>
</table>
<h3 id="response_4">Response</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>createTransaction.id</code></td>
<td><em>objectid</em></td>
<td>Identifier of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.transaction_tag</code></td>
<td><em>string</em></td>
<td>The unique tag of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.account_tag</code></td>
<td><em>string</em></td>
<td>The account tag associated with the transaction</td>
</tr>
<tr>
<td><code>createTransaction.account</code></td>
<td><em>Account</em></td>
<td>The object <a href="../account/">account</a></td>
</tr>
<tr>
<td><code>createTransaction.source</code></td>
<td><em>string</em></td>
<td>The source of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.source_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the source of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.destination</code></td>
<td><em>string</em></td>
<td>The destination of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.carrier_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the carrier used</td>
</tr>
<tr>
<td><code>createTransaction.tags</code></td>
<td><em>array</em></td>
<td>Tags associated with this transaction</td>
</tr>
<tr>
<td><code>createTransaction.authorized</code></td>
<td><em>boolean</em></td>
<td>Was this transaction authorized</td>
</tr>
<tr>
<td><code>createTransaction.unauthorized_reason</code></td>
<td><em>string</em></td>
<td>If unauthorized, what was the reason?</td>
</tr>
<tr>
<td><code>createTransaction.destination_rate</code></td>
<td><em>PricelistRate</em></td>
<td>The object <a href="../rate/">Rate</a></td>
</tr>
<tr>
<td><code>createTransaction.timestamp_auth</code></td>
<td><em>datetime</em></td>
<td>When was the authorization performed for this transaction</td>
</tr>
<tr>
<td><code>createTransaction.timestamp_begin</code></td>
<td><em>datetime</em></td>
<td>When the transaction started</td>
</tr>
<tr>
<td><code>createTransaction.timestamp_end</code></td>
<td><em>datetime</em></td>
<td>When the transaction ended</td>
</tr>
<tr>
<td><code>createTransaction.inbound</code></td>
<td><em>boolean</em></td>
<td>Is this an inbound transaction?</td>
</tr>
<tr>
<td><code>createTransaction.duration</code></td>
<td><em>int</em></td>
<td>The duration of the transaction</td>
</tr>
<tr>
<td><code>createTransaction.fee</code></td>
<td><em>int</em></td>
<td>The calculated fee of the transaction</td>
</tr>
</tbody>
</table>
<h3 id="example_2">Example</h3>
<h4 id="request_2">Request</h4>
<div class="codehilite"><pre><span></span>curl <span class="s2">"http://localhost:8000/graphql"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  --data @- <span class="s">&lt;&lt;EOF</span>
<span class="s">{"query": "mutation {</span>
<span class="s">  createTransaction(</span>
<span class="s">    transaction_tag: \"transaction1\",</span>
<span class="s">    account_tag: \"100\",</span>
<span class="s">    destination: \"39040123100\",</span>
<span class="s">    carrier_ip: \"10.0.0.1\",</span>
<span class="s">    destination_rate: {</span>
<span class="s">      pricelist_tag: \"pricelist1\",</span>
<span class="s">      prefix: \"39\",</span>
<span class="s">      connect_fee: 0,</span>
<span class="s">      rate: 20,</span>
<span class="s">      rate_increment: 60,</span>
<span class="s">      interval_start: 0,</span>
<span class="s">      carrier_tag: \"carrier1\",</span>
<span class="s">      description: \"Italy fixed\"</span>
<span class="s">    }</span>
<span class="s">    fee: 20,</span>
<span class="s">    authorized: true,</span>
<span class="s">    inbound: false,</span>
<span class="s">    source: \"39040123123\",</span>
<span class="s">    source_ip: \"10.0.0.2\",</span>
<span class="s">    timestamp_auth: \"2019-08-15T21:10:17Z\",</span>
<span class="s">    timestamp_begin: \"2019-08-15T21:20:17Z\",</span>
<span class="s">    timestamp_end: \"2019-08-15T22:00:17Z\",</span>
<span class="s">    duration: 40</span>
<span class="s">  ) {</span>
<span class="s">    id</span>
<span class="s">    transaction_tag</span>
<span class="s">    account_tag</span>
<span class="s">    source</span>
<span class="s">    source_ip</span>
<span class="s">    destination</span>
<span class="s">    destination_rate {</span>
<span class="s">      pricelist_tag</span>
<span class="s">      carrier_tag</span>
<span class="s">      prefix</span>
<span class="s">      connect_fee</span>
<span class="s">      rate</span>
<span class="s">      rate_increment</span>
<span class="s">      interval_start</span>
<span class="s">    }</span>
<span class="s">    carrier_ip</span>
<span class="s">    authorized</span>
<span class="s">    timestamp_auth</span>
<span class="s">    timestamp_begin</span>
<span class="s">    timestamp_end</span>
<span class="s">    inbound</span>
<span class="s">    duration</span>
<span class="s">    fee</span>
<span class="s">  }</span>
<span class="s">}"</span>
<span class="s">}</span>
<span class="s">EOF</span>
</pre></div>
<h4 id="response_5">Response</h4>
<div class="codehilite"><pre><span></span>HTTP/1.1 <span class="m">200</span> OK
Content-Type: application/json
<span class="o">{</span> 
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"createTransaction"</span>: <span class="o">{</span>
      <span class="s2">"id"</span>: <span class="s2">"07d6415e-84c6-48fe-95be-5012caa9514e"</span>,
      <span class="s2">"transaction_tag"</span>: <span class="s2">"transaction1"</span>,
      <span class="s2">"account_tag"</span>: <span class="s2">"100"</span>,
      <span class="s2">"source"</span>: <span class="s2">"39040123123"</span>,
      <span class="s2">"source_ip"</span>: <span class="s2">"10.0.0.2"</span>,
      <span class="s2">"destination"</span>: <span class="s2">"39040123100"</span>,
      <span class="s2">"destination_rate"</span>: <span class="o">{</span>
        <span class="s2">"pricelist_tag"</span>: <span class="s2">"pricelist1"</span>,
        <span class="s2">"carrier_tag"</span>: <span class="s2">"carrier1"</span>,
        <span class="s2">"prefix"</span>: <span class="s2">"39"</span>,
        <span class="s2">"connect_fee"</span>: <span class="m">0</span>,
        <span class="s2">"rate"</span>: <span class="m">20</span>,
        <span class="s2">"rate_increment"</span>: <span class="m">60</span>,
        <span class="s2">"interval_start"</span>: <span class="m">0</span>
      <span class="o">}</span>,
      <span class="s2">"carrier_ip"</span>: <span class="s2">"10.0.0.1"</span>,
      <span class="s2">"authorized"</span>: true,
      <span class="s2">"timestamp_auth"</span>: <span class="s2">"2019-08-15T21:10:17"</span>,
      <span class="s2">"timestamp_begin"</span>: <span class="s2">"2019-08-15T21:20:17"</span>,
      <span class="s2">"timestamp_end"</span>: <span class="s2">"2019-08-15T22:00:17"</span>,
      <span class="s2">"inbound"</span>: false,
      <span class="s2">"duration"</span>: <span class="m">40</span>,
      <span class="s2">"fee"</span>: <span class="m">20</span>
    <span class="o">}</span>
  <span class="o">}</span>,
  <span class="s2">"errors"</span>: null
<span class="o">}</span>
</pre></div>
<h2 id="update-a-transaction">Update a Transaction</h2>
<p>This method should not be used but it's available if an update to a transaction is needed.</p>
<h3 id="request-headers_3">Request headers</h3>
<p><code>Content-Type application/json</code></p>
<h3 id="request-parameters_3">Request parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>updateTransaction.id</code></td>
<td><em>objectid</em></td>
<td>Identifier of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.transaction_tag</code></td>
<td><em>string</em></td>
<td>The unique tag of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.account_tag</code></td>
<td><em>string</em></td>
<td>The account tag associated with the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.account</code></td>
<td><em>Account</em></td>
<td>The object <a href="../account/">account</a></td>
</tr>
<tr>
<td><code>updateTransaction.source</code></td>
<td><em>string</em></td>
<td>The source of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.source_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the source of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.destination</code></td>
<td><em>string</em></td>
<td>The destination of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.carrier_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the carrier used</td>
</tr>
<tr>
<td><code>updateTransaction.tags</code></td>
<td><em>array</em></td>
<td>Tags associated with this transaction</td>
</tr>
<tr>
<td><code>updateTransaction.authorized</code></td>
<td><em>boolean</em></td>
<td>Was this transaction authorized</td>
</tr>
<tr>
<td><code>updateTransaction.unauthorized_reason</code></td>
<td><em>string</em></td>
<td>If unauthorized, what was the reason?</td>
</tr>
<tr>
<td><code>updateTransaction.destination_rate</code></td>
<td><em>InputAccountPricelistRate</em></td>
<td>The object <a href="../rate/">Rate</a></td>
</tr>
<tr>
<td><code>updateTransaction.timestamp_auth</code></td>
<td><em>datetime</em></td>
<td>When was the authorization performed for this transaction</td>
</tr>
<tr>
<td><code>updateTransaction.timestamp_begin</code></td>
<td><em>datetime</em></td>
<td>When the transaction started</td>
</tr>
<tr>
<td><code>updateTransaction.timestamp_end</code></td>
<td><em>datetime</em></td>
<td>When the transaction ended</td>
</tr>
<tr>
<td><code>updateTransaction.inbound</code></td>
<td><em>boolean</em></td>
<td>Is this an inbound transaction?</td>
</tr>
<tr>
<td><code>updateTransaction.duration</code></td>
<td><em>int</em></td>
<td>The duration of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.fee</code></td>
<td><em>int</em></td>
<td>The calculated fee of the transaction</td>
</tr>
</tbody>
</table>
<h3 id="response_6">Response</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>updateTransaction.id</code></td>
<td><em>objectid</em></td>
<td>Identifier of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.transaction_tag</code></td>
<td><em>string</em></td>
<td>The unique tag of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.account_tag</code></td>
<td><em>string</em></td>
<td>The account tag associated with the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.account</code></td>
<td><em>Account</em></td>
<td>The object <a href="../account/">account</a></td>
</tr>
<tr>
<td><code>updateTransaction.source</code></td>
<td><em>string</em></td>
<td>The source of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.source_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the source of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.destination</code></td>
<td><em>string</em></td>
<td>The destination of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.carrier_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the carrier used</td>
</tr>
<tr>
<td><code>updateTransaction.tags</code></td>
<td><em>array</em></td>
<td>Tags associated with this transaction</td>
</tr>
<tr>
<td><code>updateTransaction.authorized</code></td>
<td><em>boolean</em></td>
<td>Was this transaction authorized</td>
</tr>
<tr>
<td><code>updateTransaction.unauthorized_reason</code></td>
<td><em>string</em></td>
<td>If unauthorized, what was the reason?</td>
</tr>
<tr>
<td><code>updateTransaction.destination_rate</code></td>
<td><em>PricelistRate</em></td>
<td>The object <a href="../rate/">Rate</a></td>
</tr>
<tr>
<td><code>updateTransaction.timestamp_auth</code></td>
<td><em>datetime</em></td>
<td>When was the authorization performed for this transaction</td>
</tr>
<tr>
<td><code>updateTransaction.timestamp_begin</code></td>
<td><em>datetime</em></td>
<td>When the transaction started</td>
</tr>
<tr>
<td><code>updateTransaction.timestamp_end</code></td>
<td><em>datetime</em></td>
<td>When the transaction ended</td>
</tr>
<tr>
<td><code>updateTransaction.inbound</code></td>
<td><em>boolean</em></td>
<td>Is this an inbound transaction?</td>
</tr>
<tr>
<td><code>updateTransaction.duration</code></td>
<td><em>int</em></td>
<td>The duration of the transaction</td>
</tr>
<tr>
<td><code>updateTransaction.fee</code></td>
<td><em>int</em></td>
<td>The calculated fee of the transaction</td>
</tr>
</tbody>
</table>
<h3 id="example_3">Example</h3>
<h4 id="request_3">Request</h4>
<div class="codehilite"><pre><span></span>curl <span class="s2">"http://localhost:8000/graphql"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  --data @- <span class="s">&lt;&lt;EOF</span>
<span class="s">{"query": "mutation {</span>
<span class="s">  updateTransaction(</span>
<span class="s">    transaction_tag: \"transaction1\",</span>
<span class="s">    account_tag: \"100\",</span>
<span class="s">    destination: \"39040123101\",</span>
<span class="s">    carrier_ip: \"10.0.0.1\",</span>
<span class="s">    destination_rate: {</span>
<span class="s">      pricelist_tag: \"pricelist1\",</span>
<span class="s">      prefix: \"39\",</span>
<span class="s">      connect_fee: 0,</span>
<span class="s">      rate: 20,</span>
<span class="s">      rate_increment: 60,</span>
<span class="s">      interval_start: 0,</span>
<span class="s">      carrier_tag: \"carrier1\",</span>
<span class="s">      description: \"Italy fixed\"</span>
<span class="s">    }</span>
<span class="s">    fee: 0,</span>
<span class="s">    authorized: true,</span>
<span class="s">    unauthorized_reason: "Unavailable destination"</span>
<span class="s">    inbound: false,</span>
<span class="s">    source: \"39040123123\",</span>
<span class="s">    source_ip: \"10.0.0.2\",</span>
<span class="s">    timestamp_auth: \"2019-08-15T21:10:17Z\",</span>
<span class="s">    timestamp_begin: \"2019-08-15T21:11:17Z\",</span>
<span class="s">    timestamp_end: \"2019-08-15T22:11:17Z\",</span>
<span class="s">    duration: 0</span>
<span class="s">  ) {</span>
<span class="s">    id</span>
<span class="s">    transaction_tag</span>
<span class="s">    account_tag</span>
<span class="s">    source</span>
<span class="s">    source_ip</span>
<span class="s">    destination</span>
<span class="s">    destination_rate {</span>
<span class="s">      pricelist_tag</span>
<span class="s">      carrier_tag</span>
<span class="s">      prefix</span>
<span class="s">      connect_fee</span>
<span class="s">      rate</span>
<span class="s">      rate_increment</span>
<span class="s">      interval_start</span>
<span class="s">    }</span>
<span class="s">    carrier_ip</span>
<span class="s">    authorized</span>
<span class="s">    timestamp_auth</span>
<span class="s">    timestamp_begin</span>
<span class="s">    timestamp_end</span>
<span class="s">    inbound</span>
<span class="s">    duration</span>
<span class="s">    fee</span>
<span class="s">  }</span>
<span class="s">}"</span>
<span class="s">}</span>
<span class="s">EOF</span>
</pre></div>
<h4 id="response_7">Response</h4>
<div class="codehilite"><pre><span></span>HTTP/1.1 <span class="m">200</span> OK
Content-Type: application/json
<span class="o">{</span> 
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"updateTransaction"</span>: <span class="o">{</span>
      <span class="s2">"id"</span>: <span class="s2">"07d6415e-84c6-48fe-95be-5012caa9514e"</span>,
      <span class="s2">"transaction_tag"</span>: <span class="s2">"transaction1"</span>,
      <span class="s2">"account_tag"</span>: <span class="s2">"100"</span>,
      <span class="s2">"source"</span>: <span class="s2">"39040123123"</span>,
      <span class="s2">"source_ip"</span>: <span class="s2">"10.0.0.2"</span>,
      <span class="s2">"destination"</span>: <span class="s2">"39040123101"</span>,
      <span class="s2">"destination_rate"</span>: <span class="o">{</span>
        <span class="s2">"pricelist_tag"</span>: <span class="s2">"pricelist1"</span>,
        <span class="s2">"carrier_tag"</span>: <span class="s2">"carrier1"</span>,
        <span class="s2">"prefix"</span>: <span class="s2">"39"</span>,
        <span class="s2">"connect_fee"</span>: <span class="m">0</span>,
        <span class="s2">"rate"</span>: <span class="m">20</span>,
        <span class="s2">"rate_increment"</span>: <span class="m">60</span>,
        <span class="s2">"interval_start"</span>: <span class="m">0</span>
      <span class="o">}</span>,
      <span class="s2">"carrier_ip"</span>: <span class="s2">"10.0.0.1"</span>,
      <span class="s2">"authorized"</span>: true,
      <span class="s2">"unauthorized_reason"</span>: <span class="s2">"Unavailable destination"</span>,
      <span class="s2">"timestamp_auth"</span>: <span class="s2">"2019-08-15T21:10:17"</span>,
      <span class="s2">"timestamp_begin"</span>: <span class="s2">"2019-08-15T21:11:17"</span>,
      <span class="s2">"timestamp_end"</span>: <span class="s2">"2019-08-15T22:11:17"</span>,
      <span class="s2">"inbound"</span>: false,
      <span class="s2">"duration"</span>: <span class="m">0</span>,
      <span class="s2">"fee"</span>: <span class="m">0</span>
    <span class="o">}</span>
  <span class="o">}</span>,
  <span class="s2">"errors"</span>: null
<span class="o">}</span>
</pre></div>
<h2 id="delete-a-transaction">Delete a Transaction</h2>
<p>This method can be used to remove a particular transaction either by id or a combination of account and transaction tag.</p>
<h3 id="request-headers_4">Request headers</h3>
<p><code>Content-Type application/json</code></p>
<h3 id="request-parameters_4">Request parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>deleteTransaction.id</code></td>
<td><em>objectid</em></td>
<td>Unique identifyer of the transaction to be deleted</td>
</tr>
<tr>
<td><code>deleteTransaction.account_tag</code></td>
<td><em>string</em></td>
<td>The tag of the account for the transaction to be deleted</td>
</tr>
<tr>
<td><code>deleteTransaction.transaction_tag</code></td>
<td><em>string</em></td>
<td>The tag of the transaction to delete</td>
</tr>
</tbody>
</table>
<h3 id="response_8">Response</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>deleteTransaction.id</code></td>
<td><em>objectid</em></td>
<td>Identifier of the transaction</td>
</tr>
<tr>
<td><code>deleteTransaction.transaction_tag</code></td>
<td><em>string</em></td>
<td>The unique tag of the transaction</td>
</tr>
<tr>
<td><code>deleteTransaction.account_tag</code></td>
<td><em>string</em></td>
<td>The account tag associated with the transaction</td>
</tr>
<tr>
<td><code>deleteTransaction.account</code></td>
<td><em>Account</em></td>
<td>The object <a href="../account/">account</a></td>
</tr>
<tr>
<td><code>deleteTransaction.source</code></td>
<td><em>string</em></td>
<td>The source of the transaction</td>
</tr>
<tr>
<td><code>deleteTransaction.source_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the source of the transaction</td>
</tr>
<tr>
<td><code>deleteTransaction.destination</code></td>
<td><em>string</em></td>
<td>The destination of the transaction</td>
</tr>
<tr>
<td><code>deleteTransaction.carrier_ip</code></td>
<td><em>string</em></td>
<td>The IP address of the carrier used</td>
</tr>
<tr>
<td><code>deleteTransaction.tags</code></td>
<td><em>array</em></td>
<td>Tags associated with this transaction</td>
</tr>
<tr>
<td><code>deleteTransaction.authorized</code></td>
<td><em>boolean</em></td>
<td>Was this transaction authorized</td>
</tr>
<tr>
<td><code>deleteTransaction.unauthorized_reason</code></td>
<td><em>string</em></td>
<td>If unauthorized, what was the reason?</td>
</tr>
<tr>
<td><code>deleteTransaction.destination_rate</code></td>
<td><em>PricelistRate</em></td>
<td>The object <a href="../rate/">Rate</a></td>
</tr>
<tr>
<td><code>deleteTransaction.timestamp_auth</code></td>
<td><em>datetime</em></td>
<td>When was the authorization performed for this transaction</td>
</tr>
<tr>
<td><code>deleteTransaction.timestamp_begin</code></td>
<td><em>datetime</em></td>
<td>When the transaction started</td>
</tr>
<tr>
<td><code>deleteTransaction.timestamp_end</code></td>
<td><em>datetime</em></td>
<td>When the transaction ended</td>
</tr>
<tr>
<td><code>deleteTransaction.inbound</code></td>
<td><em>boolean</em></td>
<td>Is this an inbound transaction?</td>
</tr>
<tr>
<td><code>deleteTransaction.duration</code></td>
<td><em>int</em></td>
<td>The duration of the transaction</td>
</tr>
<tr>
<td><code>deleteTransaction.fee</code></td>
<td><em>int</em></td>
<td>The calculated fee of the transaction</td>
</tr>
</tbody>
</table>
<h3 id="example_4">Example</h3>
<h4 id="request_4">Request</h4>
<div class="codehilite"><pre><span></span>curl <span class="s2">"https://api.canyan.io/graphql"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  --data @- <span class="s">&lt;&lt;EOF</span>
<span class="s">{"query": "mutation {</span>
<span class="s">  deleteTransaction(id: "07d6415e-84c6-48fe-95be-5012caa9514e") {</span>
<span class="s">    id</span>
<span class="s">    pricelist_tag</span>
<span class="s">    carrier_tag</span>
<span class="s">    prefix</span>
<span class="s">    datetime_start</span>
<span class="s">    datetime_end</span>
<span class="s">    connect_fee</span>
<span class="s">    rate</span>
<span class="s">    rate_increment</span>
<span class="s">    interval_start</span>
<span class="s">    description</span>
<span class="s">  }</span>
<span class="s">}"</span>
<span class="s">}</span>
<span class="s">EOF</span>
</pre></div>
<h4 id="response_9">Response</h4>
<div class="codehilite"><pre><span></span>HTTP/1.1 <span class="m">200</span> OK
Content-Type: application/json
<span class="o">{</span> 
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"deleteTransaction"</span>: <span class="o">{</span>
      <span class="s2">"id"</span>: <span class="s2">"07d6415e-84c6-48fe-95be-5012caa9514e"</span>,
      <span class="s2">"transaction_tag"</span>: <span class="s2">"transaction1"</span>,
      <span class="s2">"account_tag"</span>: <span class="s2">"100"</span>,
      <span class="s2">"source"</span>: <span class="s2">"39040123123"</span>,
      <span class="s2">"source_ip"</span>: <span class="s2">"10.0.0.2"</span>,
      <span class="s2">"destination"</span>: <span class="s2">"39040123101"</span>,
      <span class="s2">"destination_rate"</span>: <span class="o">{</span>
        <span class="s2">"pricelist_tag"</span>: <span class="s2">"pricelist1"</span>,
        <span class="s2">"carrier_tag"</span>: <span class="s2">"carrier1"</span>,
        <span class="s2">"prefix"</span>: <span class="s2">"39"</span>,
        <span class="s2">"connect_fee"</span>: <span class="m">0</span>,
        <span class="s2">"rate"</span>: <span class="m">20</span>,
        <span class="s2">"rate_increment"</span>: <span class="m">60</span>,
        <span class="s2">"interval_start"</span>: <span class="m">0</span>
      <span class="o">}</span>,
      <span class="s2">"carrier_ip"</span>: <span class="s2">"10.0.0.1"</span>,
      <span class="s2">"authorized"</span>: true,
      <span class="s2">"unauthorized_reason"</span>: <span class="s2">"Unavailable destination"</span>,
      <span class="s2">"timestamp_auth"</span>: <span class="s2">"2019-08-15T21:10:17"</span>,
      <span class="s2">"timestamp_begin"</span>: <span class="s2">"2019-08-15T21:11:17"</span>,
      <span class="s2">"timestamp_end"</span>: <span class="s2">"2019-08-15T22:11:17"</span>,
      <span class="s2">"inbound"</span>: false,
      <span class="s2">"duration"</span>: <span class="m">0</span>,
      <span class="s2">"fee"</span>: <span class="m">0</span>
    <span class="o">}</span>
  <span class="o">}</span>,
  <span class="s2">"errors"</span>: null
<span class="o">}</span>
</pre></div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="../account/" rel="prev" title="Account">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Account
              </span>
</div>
</a>
<a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../../../engine/" rel="next" title="Engine">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Engine
              </span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2020 Canyan.io
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
</div>
<div class="md-footer-social">
<link href="../../../assets/fonts/font-awesome.css" rel="stylesheet"/>
<a class="md-footer-social__link fa fa-github" href="https://github.com/canyanio"></a>
<a class="md-footer-social__link fa fa-twitter" href="https://twitter.com/canyan_io"></a>
<a class="md-footer-social__link fa fa-linkedin" href="https://www.linkedin.com/company/canyan/"></a>
<a class="md-footer-social__link fa fa-slack" href="http://slack.canyan.io"></a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../../assets/javascripts/application.808e90bb.js"></script>
<script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
<script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
</body>
</html>